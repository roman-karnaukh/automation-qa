<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8">
  <meta HTTP-EQUIV="Content-language" CONTENT="ru-RU">
  <meta NAME="description" CONTENT="Сайт содержит информацию об автоматизации моильных приложений на платфоме Android с помощью инструментов Espresso, UI Automator, простая автоматизация сложных вещей для QA Automation, QA Automation Guide. Работа с ListView(используя onData)">
  <meta NAME="keywords" CONTENT="Espresso, UI Automator, QA, QA Automation, Java, Selenium IDE, WebDriver">

  <!-- библиотека LoDash -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.3.0/lodash.js"></script>
	<script src="/assets/js/templates.js"></script>
	<script src="https://cdn.rawgit.com/zenorocha/clipboard.js/master/dist/clipboard.min.js"></script>

<script>
        /*images*/
    var imageRun = "run.jpg";

        /*links*/
    var hrefEspressoBlack = "https://github.com/roman-karnaukh/-espresso_gradle_black-box_template";
    var hrefEspressoBlackGradle = "https://github.com/roman-karnaukh/-espresso_gradle_black-box_template";
    var hrefCustomViewMatcher = "/articles_ru/custom_view_matchers";

        /*Body*/
        var title = 'Espresso BlackBox метод - Ознакомление с инструментом Espresso Android';
        var header = 'Espresso BlackBox метод';
        var date = "27.09.2016";
        var subtitle = "Потребность";
        var p1 = "Потребность в автотестах на самом деле не велика и иногда даже нецелесообразна. В аутсорс где средняя продолжительность разработки составляет 2-2,5 месяца проектов с автотестами не пишут. Есть конечно исключения. ";
        var p2 = "Иногда, проект насколько большой и длительный что автотесты просто жизненно необходимы для проведения качественного регрессионного тестирования. Чтобы не писать автотесты внутри проекта можно их вынести в отдельный, а от исходников и вовсе отказаться. Рассмотрим два варианта: на проекте с Gradle и без него.";
        var subtitle2 = "Подготовительная часть";
        var p3 = "С инструментом Espresso обязательным условием для запуска автотестов является совпадение подписей тестируемого и приложения  с тестами. Кратко рассмотрим процесс изменения подписи.";
        var p4 = "На входе имеем приложение с чужой подписью, пускай даже оно скачано с PlayMarket. Имя его будет Bla-Bla.apk. Инструкция:" + NumberList([
                "Переименовываем Bla-Bla.apk в Bla-Bla.apk.zip",
                        "Открываем архиватором Bla-Bla.apk.zip и удаляем в нем папку META-INF",
                        "Закрываем, переимновываем Bla-Bla.apk.zip в Bla-Bla.apk",
                        "В терминале открываем директорию с нашим приложением",
                        "Подписываем:" + GrayCode("jarsigner -keystore ~/.android/debug.keystore -storepass android -keypass android Bla-Bla.apk androiddebugkey"),
                        "Устанавливаем на устройство командой adb install <путь к apk>"
                ]);
        var subtitle3 = "Проект на Gradle";
        var p5 = "Этот способ хорош тем что можно использовать все прелести gradle,  но запускать автотесты придется через консоль.";
        var bc2 = "<p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba4-0adc-c5dd-e5873fae325b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(232, 191, 106); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&lt;instrumentation</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba4-0adc-c5dd-e5873fae325b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(232, 191, 106); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">android</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(186, 186, 186); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">:name=</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&quot;android.support.test.runner.AndroidJUnitRunner&quot;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba4-0adc-c5dd-e5873fae325b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">android</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(186, 186, 186); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">:label=</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&quot;Tests&quot;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba4-0adc-c5dd-e5873fae325b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">android</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(186, 186, 186); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">:targetPackage=</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&quot;your.package&quot; </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(232, 191, 106); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">/&gt;</span></span></p>";
        var nl1 = [
                "Создаем в Android Studio проект (File - New - New Project), на шаге добавления activity выбрать пункт Add No Activity.",
                "Добавить зависимости в gradle, должно получится вот так:" + BlackCode("<p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba3-375c-2572-8fecf882f6f8\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">dependencies {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba3-375c-2572-8fecf882f6f8\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;compile fileTree(</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">include</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">: [</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&#39;*.jar&#39;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">], </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">dir</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">: </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&#39;libs&#39;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">)</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba3-375c-2572-8fecf882f6f8\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;compile </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba3-375c-2572-8fecf882f6f8\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">compile </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&#39;com.android.support.test:runner:0.5&#39;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba3-375c-2572-8fecf882f6f8\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">compile </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&#39;junit:junit:4.12&#39;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba3-375c-2572-8fecf882f6f8\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p>", "bc1"),
                "В AndroidManifest.xml обязательно изменить имя пакета в android:targetPackage:" + BlackCode(bc2, "bc2"),
                "И наконец создаем класс с тестами, в качестве правило добавить код:" + BlackCode("<p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(187, 181, 41); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">@Rule</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">ActivityTestRule&lt;?&gt; </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">mActivityRule </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">= myActivityTestRule(</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&quot;your.package.Activity&quot;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">)</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> &nbsp;</p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(187, 181, 41); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">@NonNull</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">private </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">ActivityTestRule </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 198, 109); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">myActivityTestRule</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(String className) {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">try </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">{</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">return new </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">ActivityTestRule(Class.</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); font-style: italic; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">forName</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(className))</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">} </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">catch </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(ClassNotFoundException e) {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">throw new </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">RuntimeException(e)</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba5-0c5e-a679-10d8aca9b81b\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p>", "bc3"),
                "Необходимо собрать проект как apk  и установить на девайс" + GrayCode("./gradlew assemble<br>adb install app-debug.apk"),
                "Запуск производится одной строкой:" + GrayCode("adb shell am instrument -w your.tests/android.support.test.runner.AndroidJUnitRunner")
        ];
        var p6 = "Код такого “шаблона” можно склонировать по "+ Link("ссылке", hrefEspressoBlack)+".";
        var s1 = "Еще один важный момент - получить id ресурса по его имени, выполняем это следующим кодом:";
        var bc4 = "<p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba8-88df-b781-1f0ea88e3671\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public int </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 198, 109); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">getId</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(String id){</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba8-88df-b781-1f0ea88e3671\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;Context targetContext = </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">mActivityRule</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">.getActivity().getApplicationContext()</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba8-88df-b781-1f0ea88e3671\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">String packageName = targetContext.getPackageName()</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba8-88df-b781-1f0ea88e3671\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;int </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">viewId = targetContext.getResources().getIdentifier(id</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">, </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&quot;id&quot;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">, </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">packageName)</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba8-88df-b781-1f0ea88e3671\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;return </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">viewId</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6ba8-88df-b781-1f0ea88e3671\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p>";
        var s2 = "Подобным образом можно получать и id строки:";
        var bc5 = "<p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6baa-1381-1c4e-157c2c73d2b4\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public int </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(52, 65, 52);\">getString</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(String stringId){</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6baa-1381-1c4e-157c2c73d2b4\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;Context targetContext = </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">mActivityRule</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">.getActivity().getApplicationContext()</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6baa-1381-1c4e-157c2c73d2b4\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">String packageName = targetContext.getPackageName()</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6baa-1381-1c4e-157c2c73d2b4\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;int </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">viewId = targetContext.getResources().getIdentifier(stringId</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">, </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&quot;string&quot;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">, </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">packageName)</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6baa-1381-1c4e-157c2c73d2b4\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;return </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">viewId</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-f607d9f3-6baa-1381-1c4e-157c2c73d2b4\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p>";
        var p7 = "То есть, чтобы получить строку необходимо параметров в методе getIdentifier(String name, String defType, String defPackage)  параметром defType передать “string”.";
        var subtitle4 = "Без Gradle";
        var p8 = "Этим методом приятнее работать, единственная забота - необходимые библиотеки необходимо будет подключать .jar файлом.";
        s3 = "Для использования нужно скачать/клонировать проект: "+Link("espresso_gradle_black-box_template", hrefEspressoBlackGradle)+". Все что нужно будет изменить, это имя пакета и путь к Activity в классе WatchManClassConsole(Driver), переменные packageActivity и packageName. Также в  AndroidManifest.xml изменить имя пакета в android:targetPackage:";
        var p9 = "В пакете espresso_black_box/src/com/espresso/black_box/environment/tests можно создавать класс с тестами, наследоваться от WatchManClassConsole и писать тесты. Данный “шаблон” наполнен многими методами которые могут не пригодиться в процессе работы, здесь они храняться для примера.";
        var p10 = "После прохождения тестов из этого шаблона будет формироваться отчет в виде html страницы с результатом каждого теста, при использовании методов класса Actions, автоматически будут сохраняться скриншоты и добавляться к репорту. При вызове метода Shot.makeScreenshot()  шоты также автоматически будут добавляться к отчету.";
        var p11 = "Запуск намного проще предыдущего примера - все что нужно будет сделать, выбрать в меню “Run” результат прохождения отобразится в консоли." + Image(imageRun);

        var subtitle5 = "Резюме";
        var p12 = "Написать и запустить автотесты используя инструмент  Espresso без исходного кода тестируемого приложения возможно. Нормальных инструкций в интернете к сожалению не было, необходимости как таковой нет, если нет подобных преград, лучше все таки писать код автотестов в проекте приложения.";

        Article(title, Header(header, date)
                + Subtitle(subtitle)
                + P(p1)
                + P(p2)
                + Subtitle(subtitle2)
                + P(p3)
                + P(p4)
                + Subtitle(subtitle3)
                + P(p5) + NumberList(nl1)
                + P(p6)
                + P(s1 + BlackCode(bc4, "bc4"))
                + P(s2 + BlackCode(bc5, "bc5"))
                + P(p7)
                + Subtitle(subtitle4)
                + P(p8)
                + P(s3 + BlackCode(bc2, "bc6"))
                + P(p9)
                + P(p10)
                + P(p11)
                + Subtitle(subtitle5)
                + P(p12)
        );

</script>
</head>
<body>

</body>
</html>