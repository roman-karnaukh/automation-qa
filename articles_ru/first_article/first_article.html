<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8">
<title>FIRST ARTICLE</title>
 </head>
<div>
	<b> Первая статья </b><br>
	Дата: 09.09.2016

	<p>
	<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">activityResult_IsHandledProperly</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// Build a result to return when a particular activity is launched.</span>
    <span class="n">Intent</span> <span class="n">resultData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
    <span class="n">String</span> <span class="n">phoneNumber</span> <span class="o">=</span> <span class="s">"123-345-6789"</span><span class="o">;</span>
    <span class="n">resultData</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"phone"</span><span class="o">,</span> <span class="n">phoneNumber</span><span class="o">);</span>
    <span class="n">ActivityResult</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ActivityResult</span><span class="o">(</span><span class="n">Activity</span><span class="o">.</span><span class="na">RESULT_OK</span><span class="o">,</span> <span class="n">resultData</span><span class="o">);</span>

    <span class="c1">// Set up result stubbing when an intent sent to "contacts" is seen.</span>
    <span class="n">intending</span><span class="o">(</span><span class="n">toPackage</span><span class="o">(</span><span class="s">"com.android.contacts"</span><span class="o">)).</span><span class="na">respondWith</span><span class="o">(</span><span class="n">result</span><span class="o">));</span>

    <span class="c1">// User action that results in "contacts" activity being launched.</span>
    <span class="c1">// Launching activity expects phoneNumber to be returned and displays it on the screen.</span>
    <span class="n">onView</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">pickButton</span><span class="o">)).</span><span class="na">perform</span><span class="o">(</span><span class="n">click</span><span class="o">());</span>

    <span class="c1">// Assert that data we set up above is shown.</span>
    <span class="n">onView</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">phoneNumber</span><span class="o">).</span><span class="na">check</span><span class="o">(</span><span class="n">matches</span><span class="o">(</span><span class="n">withText</span><span class="o">(</span><span class="n">phoneNumber</span><span class="o">)));</span>
<span class="o">}</span></code></pre></figure>


</div>
