<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8">
  <meta HTTP-EQUIV="Content-language" CONTENT="ru-RU">
  <meta NAME="description" CONTENT="Сайт содержит информацию об автоматизации моильных приложений на платфоме Android с помощью инструментов Espresso, UI Automator, простая автоматизация сложных вещей для QA Automation, QA Automation Guide.">
  <meta NAME="keywords" CONTENT="Espresso, UI Automator, QA, QA Automation, Java, Selenium IDE, WebDriver">

  <!-- библиотека LoDash -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.3.0/lodash.js"></script>
	<script src="/assets/js/templates.js"></script>
	<script src="https://cdn.rawgit.com/zenorocha/clipboard.js/master/dist/clipboard.min.js"></script>

<script>
        /*images*/
    var imageMainActivity = "device.jpg";
    var imageDialog = "dialog.jpg";
    var imageRunTests = "run_test.png";
    var imageSuccessTest = "result1.jpg";


        /*links*/
    var hrefEspressoCheatSheet = "/articles_ru/espresso_cheat_sheet";

        /*Body*/
        var title = 'Пишем первые UI автотесты - Ознакомление с инструментом Espresso Android';
        var header = 'Пишем первые UI автотесты';
        var date = "22.09.2016";
        var subtitle1 = "Настройка зависимостей";
        var p1 = "И наконец-то можно создавать тесты. Для пробы рекомендую склонировать проект по ссылке: "+git_hub_espresso_example()+". Здесь уже все настроено и тесты даже написаны. Над зависимостями можно не заморачиваться за нас это сделает Gradle.";
        var s1 = "Откроем build.gradle(Module:app), на что необходимо обратить внимание:";
        var numList1 = ["Раннер для запуска автотестов:" + GrayCode("defaultConfig {\n...\ntestInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}") +
        "С его помощью и будет происходить магия",
        "Непосредственно зависимости для написания тестов" + GrayCode("testCompile \'junit:junit:4.12\'" +
                "<br> androidTestCompile \'com.android.support.test:runner:0.5\'<br>androidTestCompile " +
                "\'com.android.support.test.espresso:espresso-core:2.2.2\'<br>androidTestCompile " +
                "\'com.android.support:support-annotations:24.0.0\'")];
        var p2 = "Если зависимости вы только что подставили для своего проекта, жмем в верхнем правом углу “Sync Now” и ждем окончания процесса. " +
                "Если процесс прошел успешно и на вашем проекте, тогда приступаем к следующему шагу, если нет - скопируйте зависимости с тестового проекта.";
        var subtitle2 = "Пишем тесты";
        var s2 = "По умолчанию, Android Studio создает автоматически пакет и для Ui автоетсов и для Unit. Наш код будет в папке app/src/androidTest/java, имя пакета такое же как и в основного приложения - automation.qa.espressoexample. " +
                "Автоматически там уже есть класс под названием ApplicationTest, содержимое у него такое:";
        var bc1 = "<pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:\'Source Code Pro\';font-size:10.5pt;\"> </pre> <pre style=\"font-family: \'Source Code Pro\'; font-size: 10.5pt;\"> </pre> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51bf-1c8d-cce6-b2adef3e5870\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public class </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">ApplicationTest </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">extends </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">ApplicationTestCase&lt;Application&gt; {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51bf-1c8d-cce6-b2adef3e5870\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">ApplicationTest() {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51bf-1c8d-cce6-b2adef3e5870\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">super</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(Application.</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">class</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">)</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51bf-1c8d-cce6-b2adef3e5870\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51bf-1c8d-cce6-b2adef3e5870\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p>";
        var s3 = "Нам это не подходит. Переделываем под себя. Удаляем все чтобы получить:";
        var gc1 = "public class ApplicationTest {}";
        var s4 = "По желанию можете переименовать касс, но делать это нужно не просто редактированием текста, а использую функцию рефакторинга. Для этого выделяем имя класса и жмем Shift + F6. По завершению редактирования жмем Enter.";
        var s5 = "Займемся написанием теста. Для начала нужно разобраться как работает JUnit. Для менеджмента используются аннотации. Рассмотрим их:";
        var list1 = ["Аннотация @Before обозначает методы, которые будут вызваны до исполнения теста, методы должны бытьpublic void. Здесь обычно размещаются предустановки для теста, в нашем случае это генерация тестовых данных (метод setUpToHexStringData).",
        "Аннотация @BeforeClass обозначает методы, которые будут вызваны до создания экземпляра тест-класса, методы должны быть public static void. Имеет смысл размещать предустановки для теста в случае, когда класс содержит несколько тестов использующих различные предустановки, либо когда несколько тестов используют одни и те же данные, чтобы не тратить время на их создание для каждого теста.",
        "Аннотация @After обозначает методы, которые будут вызваны после выполнения теста, методы должны быть public void. Здесь размещаются операции освобождения ресурсов после теста, в нашем случае — очистка тестовых данных (метод tearDownToHexStringData).",
        "Аннотация @AfterClass связана по смыслу с @BeforeClass, но выполняет методы после теста, как и в случае с @BeforeClass, методы должны быть public static void.",
        "Аннотация @Test обозначает тестовые методы. Как и ранее, эти методы должны быть public void. Здесь размещаются сами проверки. Кроме того, у данной аннотации есть два параметра, expected — задает ожидаемое исключение и timeout — задает время, по истечению которого тест считается провалившимся.",
        "Аннотация @Rule - самая интересная аннотация. С ее помощью задаются “правила”. Для нас она интересна только чтобы объявить ActivityTestRule."];
        var s6 = "Создание теста начинается с задания правила:";
        var gc2 = "@Rule<br>public ActivityTestRule<MainActivity> mActivityRule = new ActivityTestRule(MainActivity.class);"
        var s7 = "Эта срока и является самым большим “излучателем непонятности”, если код Espresso говорит сам за себя, тут не так все явно. По сути это тот же intent(намерение) которое в андроид приложениях используется для запуска необходимой Activity. Для использования на своем проекте, делайте так: ";
        var gc3 = "public ActivityTestRule<ОсновнаяАктивити> mActivityRule = new ActivityTestRule(ОсновнаяАктивити.class);";
        var p3 = "Можно конечно же указать любую активити приложения(если нет авторизации). Но нам важно максимально имитировать действия человека при попадании нашего приложения ему  в руки. Правило назначили, теперь можем создать “precondition” - действие, выполняемое перед тестом. Хорошая практика, это когда на каждый сервис создается соответствующий класс с методами и отдельно “вспомогательный класс с данными”. Для большого проекта, дабы не повторяться, можно завернуть код Espresso в методы по их действию, например, clickOnView(), clickOnString(), сразу вспоминается старый добрый Robotium. Этот класс назвать “BaseActions”, после для конкретного сервиса/функционала создавать два класса, например “TicketsCaces” и “TicketsTests”(ну или с названиями классов не экспериментировать и создавать со идним и тем же имененм отдельно в пакете “caces” и “tests”), так как действия могут повторяться для достижения ожидаемого результата, значит, будет и повторяться код - будем смотреть в сторону и активно применять технику DRY -  уберем повторения и сделаем так, чтобы при каких либо изменениях не пришлось лопатить весь код от начала.";
        var p4 = "Вернемся к созданию “precondition”. Для примера мною был создан класс под названием “Constants”, тут мы будем хранить такие константы как имейл, пароль, логин и т.д.:";
        var bc2 = "<pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:\'Source Code Pro\';font-size:10.5pt;\"> </pre> <pre style=\"font-family: \'Source Code Pro\'; font-size: 10.5pt;\"> </pre> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51c9-b70d-1b9a-6ecbf8472793\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public class </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">Constants {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51c9-b70d-1b9a-6ecbf8472793\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">String </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">Email </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">= </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&quot;example@ex.com&quot;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51c9-b70d-1b9a-6ecbf8472793\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p>";
        var s8 = " Константы специально не статичные, с модификатором public чтобы ими пользоваться необходимо создать экземпляр этого класса:";
        var bc3 = "<pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:\'Source Code Pro\';font-size:10.5pt;\"> </pre> <pre style=\"font-family: \'Source Code Pro\'; font-size: 10.5pt;\"> </pre> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51ca-c08e-15a4-b8f5b9ba9cf7\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public class </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">ApplicationTest {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51ca-c08e-15a4-b8f5b9ba9cf7\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;Constants </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">constants</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> &nbsp;</p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51ca-c08e-15a4-b8f5b9ba9cf7\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(187, 181, 41); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">@Rule</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51ca-c08e-15a4-b8f5b9ba9cf7\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(187, 181, 41); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">ActivityTestRule&lt;MainActivity&gt; </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">mActivityRule </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">= </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">new </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">ActivityTestRule(MainActivity.</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">class</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">)</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> &nbsp;</p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51ca-c08e-15a4-b8f5b9ba9cf7\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(187, 181, 41); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">@Before</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51ca-c08e-15a4-b8f5b9ba9cf7\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public void </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 198, 109); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">precondition</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">() {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51ca-c08e-15a4-b8f5b9ba9cf7\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">constants </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">= </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">new </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">Constants()</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51ca-c08e-15a4-b8f5b9ba9cf7\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">mContext </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">= InstrumentationRegistry.</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); font-style: italic; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">getContext</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">()</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51ca-c08e-15a4-b8f5b9ba9cf7\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p>";
        var  p5 = "Тут наглядно видно что вначале я создаю переменную constants, а после ей присваиваю экземпляр класса Constants. Получить константу Email можно таким образом: constants.Email(да, стараюсь подробненько). И получаем контекст апплета - это как бонус, потому что для написания тестов он нам не нужен.";
        var p6 = "И так, мы назначили правило, задали действия для выполнения перед тестом(тут в дальнейшем можно указывать метод для перехода в конкретное меню или авторизацию), теперь напишем тест. На данном этапе разделений на уровни делать не будем, напишем чистый код Espresso для понимания как все устроено. ";
        var s9 = "Для начала посмотрим на наш стартовый экран:";
        var s10 = "На момент написания здесь находилась только одна кнопка (TextInputLayoutActivity) при нажатии которую нам открывается экран, использующий TextInputLayout - здесь некое подобие авторизации. Но на этом экране присутствует еще один элемент  - это строка с текстом которая прописана в ТЗ и должна иметь точный текст без влияния на нее локализации. То есть, наш первый простой тест будет заключаться в наличии строки “Hello world!”, пишем:";
        var bc4 = "<pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:\'Source Code Pro\';font-size:10.5pt;\"> </pre> <pre style=\"font-family: \'Source Code Pro\'; font-size: 10.5pt;\"> </pre> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51cd-35a9-ad91-fba34125e75c\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(187, 181, 41); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">@Test</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51cd-35a9-ad91-fba34125e75c\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public void </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 198, 109); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">checkHelloWorldDisplayed</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">() {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51cd-35a9-ad91-fba34125e75c\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); font-style: italic; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">onView</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); font-style: italic; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">withText</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&quot;Hello world!&quot;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">)).check(</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); font-style: italic; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">matches</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); font-style: italic; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">isDisplayed</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">()))</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51cd-35a9-ad91-fba34125e75c\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p>";
        var s11 = "Всего-то. Мы пытаемся найти view со строкой “Hello world!” и проверить что она присутствует. Важно понимать что написав просто \"onView(withText(\"Hello world!\"));\" ничего не произойдет, нужен какой-то экшн.";
        var s12 = "И к завершению теста, можно, например, отобразить тост с текстом “Test Executed”, что и сделаем:";
        var bc5 = "<pre style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:\'Source Code Pro\';font-size:10.5pt;\"> </pre> <pre style=\"font-family: \'Source Code Pro\'; font-size: 10.5pt;\"> </pre> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51cf-687b-8f2a-bf82ecc6b28c\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(187, 181, 41); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">@Test</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51cf-687b-8f2a-bf82ecc6b28c\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">public void </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 198, 109); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">testExecuted</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">() {</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51cf-687b-8f2a-bf82ecc6b28c\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&nbsp;&nbsp;Toast.</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); font-style: italic; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">makeText</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">(</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">mContext</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">, </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(106, 135, 89); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">&quot;Test Executed&quot;</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">, </span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">Toast.</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(152, 118, 170); font-style: italic; vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">LENGTH_LONG</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">).show()</span><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 120, 50); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">;</span></span></p> <p dir=\"ltr\" style=\"line-height:1.38;margin-top:0pt;margin-bottom:0pt;\"> <span id=\"docs-internal-guid-ecdfb897-51cf-687b-8f2a-bf82ecc6b28c\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(169, 183, 198); vertical-align: baseline; white-space: pre-wrap; background-color: rgb(43, 43, 43);\">}</span></span></p>";
        var s13 = "Тут как раз и воспользуемся тем самым “бонусом” - контекстом.";
        var subtitle3 = "Запуск";
        var p7 = "Итак, можно уже смело запускать наши автотесты. Девайс должен быть с andriod не ниже 19 версии(4.4) - так мы прописали в скрипте Gradle(minSdkVersion 19), подключаем по usb(есть возможность проводить отладку по сети, но у вас должны быть рут права). Проверяем увидел ли наш девайc adb, в консоли набираем команду adb devices, если у вас линукс например, и не установлен adb там же и увидите инструкцию к установке, можно конечно вручную указать путь к adb ведь он поставляется с sdk, решать вам. Если вдруг устройство не отображается, подтвердите коннект - диалог должен отобразится на девайсе. Второй вариант - у вас не включена отладка по usb, некоторые производители перенесли включение отладки в отдельное меню, как правило, отладку нужно включать в меню разработчика. Чтобы включить меню разработчика необходимо перейти: Настройки->О телефоне-> найти пункт “Номер сборки” и магических 7-мь раз нажать на это поле. После выполнения этой нехитрой процедуры отобразится сообщение о результате выполнения. Нужно нажать назад -> Для разработчиков -> Включить интерфейс Android Debug Bridge (ADB)(активировать чек-бокс). Отобразится диалог с предупреждением, соглашаемся. Повторим команду в терминале: adb devices - устройство есть. ";
        var p8 = "Ну и конечно же можно обойтись обычным эмулятором.";
        var s14 = "Способов запуска несколько, смотрим на экран, и видим зеленый треугольник, жмем на него, откроется меню - выбираем пункт: “Run ‘ApplicationTest’” следует учесть что в данном случае будет запущен только один, выбранный тест.";
        var s15 = "Для запуска всех можно нажать комбинацию клавиш Ctrl+Shift+F10. Отобразится окно выбора устройства, выберем, нажмем ОК:";
        var s16 = "И не успеем мы глазом моргнуть как тест прошел:";
        var s17 = "Время выполнения теста составило 553 миллисекунды. Если сравнить со скоростью моргания человеческого глаза, которая составляет 100-150 мс и зависит как гласит народ от:";
        var r1 = "“"+Link("средняя скорость моргания?)", "https://otvet.mail.ru/question/59840981")+":<br>\nскорость моргания зависит от температуры окружаю щей среды, наличия ветра и других раздражителей слизистой оболочки глаза. или от того насколько нагло ты кому-нибудь ездишь по ушам (((( “";
        var p9 = "По сути мы можем устроить эксперимент - попробуйте запустить тест и как только он начнет свое исполнение, моргните 5 раз. Мне кажется что Espresso справится быстрее, потому что экран приложения вы успеете блюсти не больше одного “морга”. Вот такой быстрый Espresso.";

        Article(title, Header(header, date)
                + Subtitle(subtitle1)
                + P(p1)
                + P(s1 + NumberList(numList1))
                + P(p2)
                + Subtitle(subtitle2)
                + P(s2 + BlackCode(bc1, "bc1") + s3 + GrayCode(gc1) + s4)
                + P(s5 + List(list1))
                + P(s6 + GrayCode(gc2) + s7 + GrayCode(gc3))
                + P(p3)
                + P(p4 + BlackCode(bc2, "bc2"))
                + P(s8 + BlackCode(bc3, "bc3"))
                + P(p5)
                + P(p6)
                + P(s9 + Image(imageMainActivity))
                + P(s10 + BlackCode(bc4, "bc4") + s11)
                + P(s12 + BlackCode(bc5, "bc5") + s13)
                + Subtitle(subtitle3)
                + P(p7)
                + P(p8)
                + P(s14 + Image(imageRunTests))
                + P(s15 + Image(imageDialog))
                + P(s16 + Image(imageSuccessTest))
                + P(s17 + Reference(r1))
                + P(p9)

    );


</script>
</head>
<body>

</body>
</html>