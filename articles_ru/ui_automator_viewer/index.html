<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8">
  <meta HTTP-EQUIV="Content-language" CONTENT="ru-RU">
  <meta NAME="description" CONTENT="Сайт содержит информацию об автоматизации моильных приложений на платфоме Android с помощью инструментов Espresso, UI Automator, простая автоматизация сложных вещей для QA Automation, QA Automation Guide.">
  <meta NAME="keywords" CONTENT="Espresso, UI Automator, QA, QA Automation, Java, Selenium IDE, WebDriver">

  <!-- библиотека LoDash -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.3.0/lodash.js"></script>
	<script src="/assets/js/templates.js"></script>
	<script src="https://cdn.rawgit.com/zenorocha/clipboard.js/master/dist/clipboard.min.js"></script>

<script>
        /*images*/
    var imageUIAutomatorviewer = "UIAutomatorviewer.jpg";
    var imageResult= "result.jpg";

        /*links*/
    var hrefUIAutomator = "https://developer.android.com/topic/libraries/testing-support-library/index.html#UIAutomator";

        /*Body*/
        var title = 'Использование UIAutomatorViewer - Ознакомление с инструментом Espresso Android';
        var header = 'Использование UIAutomatorViewer';
        var date = "22.09.2016";
        var subtitle1 = "UIAutomator(Android)";
        var s1 = Link("UIAutomator", hrefUIAutomator) + " разрабатывается корпорацией Google и поставляется вместе с Android SDK. UIAutomator – это аналог инструмента UIAutomation компании Apple для тестирования Android приложений. Android SDK предоставляет следующие инструменты для поддержки автоматизированного функционального тестирования пользовательского интерфейса:";
        var list1 = ["UIAutomatorviewer — графический инструмент для распознавания компонентов пользовательского интерфейса в Android приложении;",
        "UIAutomator — библиотеки Java API, содержащие методы для создания тестов пользовательского интерфейса."];
        var s2 = "Необходимые компонент для работы с инструментом:";
        var list2 = ["Android SDK Tools, версия 21 или выше;",
        "Платформа Android SDK, c API 16 или выше."];
        var p1 ="Этот инструмент хорош для написания автотестов не имея доступа к исходному коду. Так оказалось что автотесты на Espresso так же можно писать не имея исходников(об этом будет позже) хотя Google позиционирует этот инструмент и агитирует его использовать непосредственно в коде основного приложения.";
        var p2 = "Еще один плюс для нас заключается в том что эта библиотека умеет делать полноэкранные скриншоты с единственным недостатком - устройство должно быть подключено к adb, программно сделать скриншот на девайсе невозможно - в целях безопасности, но если девайс рутован - то возможно все.";
        var p3 = "Сейчас инструмент UIAutomator не интересен, нам интересно дополнение к нему - UIAutomatorviewer, с его помощью мы и будем смотреть id виджетов и иногда копировать текст (начиная с версии android 20, русский текст отображается как “???”).";
        var subtitle2 = "Запускаем UIAutomatorviewer";
        var p4 = "Предполагаем что вы уже установили все необходимые программы на свой компьютер, если нет, можете ознакомится с инструкцией. Открываем директорию куда у нас установлена SDK, в папке tools лежит скрипт uiautomatorviewer, в консоли сначала переходим к папке со скриптом, у меня это происходит так:" +
                GrayCode("cd ~/Android/Sdk/tools") + "Запускаем скрипт:" + GrayCode("./uiautomatorviewer");
        var p5 = "Откроется окно приложения UI Automatorviewer: " + Image(imageUIAutomatorviewer) + List([
                        "первая кнопка - мы можем загрузить сохраненный ранее скриншот с xml виджетов;",
                        "вторая - будем ею делать скриншот экрана;",
                        "третья - тоже скриншот с xml виджетов, но компрессированный;",
                        "четвертая кнопка - сохранение скана экрана, сохраняется только скриншот в формате png и xml виджетов."
                ]);
        var p6 = "Открываем необходимое приложение, подключаем устройство, жмем вторую кнопку и видим результат:" + Image(imageResult);
        var p7 = "Удобно, в правой части выбираем View, в левой - на скриншоте она подсвечивается красным. Просмотр виджетов разделяется на две части: в верхней - иерархия, в нижней - предпросмотр свойств текущего виджета. В процессе работы нам будет интересны только два параметра, text и resource-id. С первого будем копировать текст, со второго id виджета, жаль что id строки не отображается - это упростило бы задачу при написании тестов без доступа к исходному коду, например когда в приложении несколько локализаций.";
        var p8 = "Остальные параметры свойств виджета можно использовать разве что для проверок, но как правило, проверок всех этих параметров никто не производит.";


        Article(title, Header(header, date)
                + Subtitle(subtitle1)
                + P(s1 + List(list1))
                + P(s2 + List(list2))
                + P(p1)
                + P(p2)
                + P(p3)
                + Subtitle(subtitle2)
                + P(p4)
                + P(p5)
                + P(p6)
                + P(p7)
                + P(p8)
        );

</script>
</head>
<body>

</body>
</html>